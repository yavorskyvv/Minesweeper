<div
  class="minesweeper-field"
  role="grid"
  [attr.aria-rowcount]="store$.height()"
  [attr.aria-colcount]="store$.width()"
  aria-label="Minesweeper grid"
  [style.--rows]="store$.height()"
  [style.--columns]="store$.width()"
>
  @for (row of store$.cells(); track $index; let rowIndex = $index) {
    @for (cell of row; track $index; let columnIndex = $index) {
      <app-cell
        [state]="cell"
        [gameState]="store$.gameState()"
        [waveOrigin]="waveOrigin()"
        [tabIndex]="isFocused(rowIndex, columnIndex) ? 0 : -1"
        [gridWidth]="store$.width()"
        [gridHeight]="store$.height()"
        (cellClick)="onCellClick(rowIndex, columnIndex)"
        (cellFlag)="onCellFlag(rowIndex, columnIndex)"
        (cellFocus)="setFocus(rowIndex, columnIndex)"
        (cellKey)="onCellKey(rowIndex, columnIndex, $event)"
      />
    }
  }
</div>
